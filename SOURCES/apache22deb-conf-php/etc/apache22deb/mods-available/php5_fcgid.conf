<IfDefine php5_common>
<IfDefine php5_fcgid>
<IfModule fcgid_module>
#
# Sample configuration to enable support for PHP5 via mod_fcgid.
# It is activated by enabling this pseudo-module and mod_fcgid
# and then passing the argument php5_fcgid to apache at startup.
#
# http://www.howtoforge.com/how-to-set-up-apache2-with-mod_fcgid-and-php5-on-centos-6.2
# http://daemon-notes.com/articles/web/apache/php-fastcgi

# To enable privilege separation, add a mod_suexec "SuexecUserGroup" directive
# to your vhost and chown the CGI wrapper script and parent directory accordingly.
#
# Finally, you will need to add and adapt for your vhost the following:
# - the "FcgidWrapper" directive, which replaces actions and alias
# - the FilesMatch and Location configuration blocks (optionally)
# Note: Copy and adjust the CGI wrapper script path accordingly.

# The given command is used to spawn FCGI server processes
FcgidWrapper /var/www/cgi-bin/php5-fcgid .php

# Set mod_fcgid handler for PHP scripts
<FilesMatch ".+\.ph(p[345]?|t|tml)$">
    SetHandler fcgid-script
</FilesMatch>
<FilesMatch ".+\.phps$">
    SetHandler fcgid-script
</FilesMatch>

# Setup the wrapper access and options
<Location "/php5-fcgid">
    # Don't allow direct execution
    Order Deny,Allow
    Deny from All
    Allow from env=REDIRECT_STATUS
    # Enable CGI support
    Options ExecCGI
</Location>

</IfModule>
</IfDefine>
</IfDefine>
