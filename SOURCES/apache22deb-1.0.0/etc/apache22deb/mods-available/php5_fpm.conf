<IfModule fastcgi_module>
#
# Sample configuration to enable support for PHP5 via mod_fastcgi and PHP-FPM.
#
# http://serverfault.com/questions/549965/setting-up-apache-2-2-fastcgi-suexec-php-fpm-on-centos-6
# http://www.server-world.info/en/note?os=CentOS_6&p=httpd&f=25
# http://askubuntu.com/questions/378734/how-to-configure-apache-to-run-php-as-fastcgi-on-ubuntu-12-04-via-terminal
# https://stackoverflow.com/questions/19445686/ubuntu-server-apache-2-4-6-client-denied-by-server-configuration-php-fpm

# to enable privilege separation, add a "SuexecUserGroup" directive
# and chown the php-wrapper script and parent directory accordingly
# see also http://www.brandonturner.net/blog/2009/07/fastcgi_with_php_opcode_cache/

# Define which server will receive requests via tcp or socket connection
#FastCgiExternalServer /var/www/cgi-bin/php5-fpm -host 127.0.0.1:9000 -pass-header Authorization
FastCgiExternalServer /var/www/cgi-bin/php5-fpm -socket /var/run/php-fpm/php-fpm.sock -pass-header Authorization

<IfModule mime_module>
# Set MIME and handler for .php scripts
AddType application/x-httpd-php .php
AddHandler php5-fpm .php
</IfModule>

<IfModule actions_module>
# Use php5-fpm to process .php scripts
Action php5-fpm /php5-fpm
</IfModule>

<IfModule alias_module>
# Create a alias for the wrapper (file can not exist!)
Alias /php5-fpm "/var/www/cgi-bin/php5-fpm"
</IfModule>

</IfModule>
